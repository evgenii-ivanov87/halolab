(this.webpackJsonphalolab=this.webpackJsonphalolab||[]).push([[0],{1:function(e,t,r){e.exports={Overlay:"Modal_Overlay__GQHM-",Modal:"Modal_Modal__17_g9",modal_form:"Modal_modal_form__3-obM",modal_form_input:"Modal_modal_form_input__2t1ZM",products_box:"Modal_products_box__2VYJJ",products_category:"Modal_products_category__39b__",products_name:"Modal_products_name__2ypU8",products_price_box:"Modal_products_price_box__1L2Vo",products_price_symbol:"Modal_products_price_symbol__2_-_i",products_price:"Modal_products_price__2oasg",products_button:"Modal_products_button__1ib0e",Button:"Modal_Button__3cA8n",Button_close:"Modal_Button_close__1GPB8",modal_form_error:"Modal_modal_form_error__RkOpL"}},10:function(e,t,r){e.exports={ButtonWrapper:"Button_ButtonWrapper__3vS5q",Button:"Button_Button__3S1QZ"}},22:function(e,t,r){e.exports={ProductsGallery:"ProductsGallery_ProductsGallery__6pfcE"}},27:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),a=r(20),c=r.n(a),s=(r(27),r(11)),u=r(4),l=r(5),i=r(7),d=r(6),p=r(21),_=r.n(p),m=r(22),b=r.n(m),h=r(0),j=function(e){var t=e.children;return Object(h.jsx)("ul",{className:b.a.ProductsGallery,children:t})},y=r(8),f=r.n(y),O=function(e){Object(i.a)(r,e);var t=Object(d.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.props.items;return Object(h.jsx)(h.Fragment,{children:t.map((function(t,r){return Object(h.jsxs)("li",{className:f.a.products_box,children:[Object(h.jsx)("p",{className:f.a.products_category,children:t.category}),Object(h.jsx)("h2",{className:f.a.products_name,children:t.name}),Object(h.jsxs)("div",{className:f.a.products_price_box,children:[Object(h.jsx)("span",{className:f.a.products_price_symbol,children:"$"}),Object(h.jsx)("p",{className:f.a.products_price,children:t.price}),Object(h.jsx)("button",{type:"button",className:f.a.products_button,onClick:function(r){e.props.onClick(t)},children:"BUY"})]})]},r)}))})}}]),r}(n.Component),g=r(10),x=r.n(g);window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});var v=function(e){Object(i.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).handelSearch=function(){e.props.onClick()},e}return Object(l.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{className:x.a.ButtonWrapper,children:Object(h.jsx)("button",{type:"button",onClick:this.handelSearch,className:x.a.Button,children:"Buy cheapest"})})}}]),r}(n.Component),S=r(1),C=r.n(S),N=function(e){Object(i.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={name:"",number:"",nameDirty:!1,numberDirty:!1,nameError:"",numberError:""},e.hendleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.hendleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e.hendleButtonClick=function(t){e.props.onClose()},e.blureHendle=function(t){switch(t.target.name){case"Name":e.setState({nameDirty:!0});break;case"Phone number":e.setState({numberDirty:!0})}},e.nameHendle=function(t){e.setState({name:t.target.value}),/^[a-zA-Z]+$/.test(t.target.value.replace(/\s/g,""))?e.setState({nameError:""}):(e.setState({nameError:"Only letters allowed"}),t.target.value||e.setState({nameError:"This field in required"}))},e.numberHendle=function(t){e.setState({number:t.target.value}),/^[0-9]+$/.test(t.target.value.replace(/\s/g,""))?e.setState({numberError:""}):e.setState({numberError:"Only numbers allowed"}),t.target.value.length<12&&e.setState({numberError:"Should contain 12 characters"}),t.target.value||e.setState({numberError:"This field in required"})},e.hendleFormSubmit=function(t){e.setState({nameDirty:!1}),e.setState({nameError:""}),e.setState({numberDirty:!1}),e.setState({nameError:""}),e.state.name&&e.state.number&&(console.log(e.state.name),console.log(e.state.number),e.props.onClose()),t.target.value||(e.nameHendle(t),e.setState({nameDirty:!0}),e.numberHendle(t),e.setState({numberDirty:!0}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendleKeyDown)}},{key:"render",value:function(){var e=this.props.currentProducts;return Object(h.jsx)("div",{className:C.a.Overlay,children:Object(h.jsxs)("div",{className:C.a.Modal,children:[Object(h.jsxs)("div",{className:C.a.products_box,children:[Object(h.jsx)("p",{className:C.a.products_category,children:e.category}),Object(h.jsx)("h2",{className:C.a.products_name,children:e.name}),Object(h.jsxs)("div",{className:C.a.products_price_box,children:[Object(h.jsx)("span",{className:C.a.products_price_symbol,children:"$"}),Object(h.jsx)("p",{className:C.a.products_price,children:e.price})]})]}),Object(h.jsxs)("form",{className:C.a.modal_form,onSubmit:this.hendleFormSubmit,children:[this.state.nameDirty&&this.state.nameError&&Object(h.jsx)("p",{className:C.a.modal_form_error,children:this.state.nameError}),Object(h.jsx)("input",{className:C.a.modal_form_input,onChange:this.nameHendle,onBlur:this.blureHendle,value:this.state.name,name:"Name",type:"text",placeholder:"Name"}),Object(h.jsx)("input",{className:C.a.modal_form_input,onChange:this.numberHendle,onBlur:this.blureHendle,value:this.state.number,name:"Phone number",type:"text",placeholder:"Number"}),this.state.numberDirty&&this.state.numberError&&Object(h.jsx)("p",{className:C.a.modal_form_error,children:this.state.numberError})]}),Object(h.jsx)("button",{type:"button",className:C.a.Button,onClick:this.hendleFormSubmit,children:"Order"}),Object(h.jsx)("button",{className:C.a.Button_close,onClick:this.hendleButtonClick,children:"X"})]})})}}]),r}(n.Component),k=function(e){Object(i.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={products:[],currentProducts:"",isOpen:!1},e.onChangeItem=function(t){e.setState({currentProducts:t}),e.toggelModal()},e.toggelModal=function(){e.setState((function(e){return{isOpen:!e.isOpen}}))},e.fetchProducts=function(){e.setState({isLoading:!0}),_.a.get("https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(t){e.setState((function(e){return{products:[].concat(Object(s.a)(e.products),Object(s.a)(t.data))}}))})).finally((function(){return e.setState({isLoading:!1})}))},e.onBuyCheapest=function(){var t=e.state.products.reduce((function(e,t){return e.price<t.price?e:t}));e.setState({currentProducts:t}),e.setState({isOpen:!0})},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{children:Object(h.jsx)(O,{items:this.state.products,onClick:this.onChangeItem})}),Object(h.jsx)(v,{onClick:this.onBuyCheapest,products:this.state.products}),this.state.isOpen&&Object(h.jsx)(N,{currentProducts:this.state.currentProducts,onClose:this.toggelModal})]})}}]),r}(n.Component),B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,48)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),o(e),a(e),c(e)}))};c.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),B()},8:function(e,t,r){e.exports={products_box:"ProductsGalleryItem_products_box__3jlRD",products_category:"ProductsGalleryItem_products_category__3H8jr",products_name:"ProductsGalleryItem_products_name__2DOF8",products_price_box:"ProductsGalleryItem_products_price_box__3DKAl",products_price_symbol:"ProductsGalleryItem_products_price_symbol__2LUIq",products_price:"ProductsGalleryItem_products_price__3f19S",products_button:"ProductsGalleryItem_products_button__11oAz"}}},[[47,1,2]]]);
//# sourceMappingURL=main.be646025.chunk.js.map